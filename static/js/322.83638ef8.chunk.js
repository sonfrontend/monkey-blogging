"use strict";(self.webpackChunkmonkey_blogging=self.webpackChunkmonkey_blogging||[]).push([[322],{4167:function(e,n,r){r.d(n,{z:function(){return y}});var t,i,o,a,s,l=r(1413),c=r(4925),d=r(168),u=(r(2791),r(6444)),h=r(184),m=u.ZP.div(t||(t=(0,d.Z)(["\n  width: ",";\n  height: ",";\n  border: "," solid white;\n  border-top: "," solid transparent;\n  border-bottom: "," solid transparent;\n  border-radius: 100rem;\n  display: inline-block;\n  animation: spinner 1s infinite linear;\n\n  @keyframes spinner {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.borderSize}),(function(e){return e.borderSize}),(function(e){return e.borderSize})),p=function(e){var n=e.size,r=void 0===n?"40px":n,t=e.borderSize,i=void 0===t?"5px":t;return(0,h.jsx)(m,{size:r,borderSize:i})},f=r(2007),x=r.n(f),g=r(3504),b=["type","onClick","kind","children"],v=u.ZP.button(i||(i=(0,d.Z)(["\n  cursor: pointer;\n  padding: 0 25px;\n  line-height: 1;\n  color: white;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 16px;\n  height: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  ",";\n  ",";\n\n  ",";\n\n  &:disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n"])),(function(e){return e.height||"66px"}),(function(e){return"secondary"===e.kind&&(0,u.iv)(o||(o=(0,d.Z)(["\n      color: ",";\n      background-color: white;\n    "])),(function(e){return e.theme.primary}))}),(function(e){return"primary"===e.kind&&(0,u.iv)(a||(a=(0,d.Z)(["\n      color: white;\n      background-image: linear-gradient(\n        to right bottom,\n        ",",\n        ","\n      );\n    "])),(function(e){return e.theme.primary}),(function(e){return e.theme.secondary}))}),(function(e){return"ghost"===e.kind&&(0,u.iv)(s||(s=(0,d.Z)(["\n      color: ",";\n      background-color: rgba(29, 192, 113, 0.1);\n    "])),(function(e){return e.theme.primary}))})),j=function(e){var n=e.type,r=void 0===n?"button":n,t=e.onClick,i=void 0===t?function(){}:t,o=e.kind,a=void 0===o?"secondary":o,s=e.children,d=(0,c.Z)(e,b),u=d.isLoading,m=d.to,f=u?(0,h.jsx)(p,{}):s;return""!==m&&"string"===typeof m?(0,h.jsx)(g.OL,{to:m,style:{display:"inline-block"},children:(0,h.jsx)(v,(0,l.Z)((0,l.Z)({type:r,kind:a},d),{},{children:f}))}):(0,h.jsx)(v,(0,l.Z)((0,l.Z)({type:r,kind:a,onClick:i},d),{},{children:f}))};j.prototype={type:x().oneOf(["button","submit"]).isRequired,isLoading:x().bool,onClick:x().func,children:x().node,kind:x().oneOf(["primary","secondary"])};var y=j},5456:function(e,n,r){r.d(n,{Y:function(){return l}});r(2791);var t=r(184),i=r(1413),o=r(4925),a=r(1134),s=["checked","children","control","name"],l=function(e){var n=e.checked,r=e.children,l=e.control,c=e.name,d=(0,o.Z)(e,s),u=(0,a.bc)({control:l,name:c,defaultValue:""}).field;return(0,t.jsxs)("label",{children:[(0,t.jsx)("input",(0,i.Z)((0,i.Z)({checked:n,type:"radio",className:"hidden-input"},u),d)),(0,t.jsxs)("div",{className:"flex items-center gap-x-3 font-medium cursor-pointer",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-full border flex items-center justify-center p-1 \n          ".concat(n?"bg-green-500 border-primary text-white":"border-red-200 text-transparent","\n          \n          "),children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("span",{children:r})]})]})}},6779:function(e,n,r){r.d(n,{g:function(){return l},Y:function(){return c}});var t,i=r(168),o=(r(2791),r(6444)),a=r(184),s=o.ZP.div(t||(t=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  row-gap: 20px;\n  align-items: flex-start;\n  margin-bottom: 40px;\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),l=function(e){var n=e.children;return(0,a.jsx)(s,{children:n})},c=function(e){var n=e.children;return(0,a.jsx)("div",{className:"flex flex-wrap gap-5",children:n})}},3031:function(e,n,r){var t=r(1413),i=r(4925),o=r(2791),a=r(184),s=["name","className","progress","image","handleDeleteImage"];n.Z=function(e){var n=e.name,r=e.className,l=void 0===r?"":r,c=e.progress,d=void 0===c?0:c,u=e.image,h=void 0===u?"":u,m=e.handleDeleteImage,p=void 0===m?function(){}:m,f=(0,i.Z)(e,s);return(0,a.jsxs)("label",{className:"cursor-pointer flex items-center justify-center bg-gray-100 border border-dashed w-full min-h-[200px] rounded-lg ".concat(l," relative overflow-hidden group"),children:[(0,a.jsx)("input",(0,t.Z)({type:"file",name:n,className:"hidden-input",onChange:function(){}},f)),0!==d&&!h&&(0,a.jsx)("div",{className:"loading w-16 h-16 border-8 border-green-500 border-t-transparent animate-spin absolute z-10 rounded-full"}),!h&&0===d&&(0,a.jsxs)("div",{className:"flex flex-col items-center text-center pointer-events-none",children:[(0,a.jsx)("img",{src:"/img-upload.png",alt:"upload-img",className:"max-w-[80px] mb-5"}),(0,a.jsx)("p",{className:"font-semibold",children:"Choose photo"})]}),h&&(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)("img",{src:h,alt:"",className:"w-full h-full object-cover"}),(0,a.jsx)("button",{type:"button",className:"w-16 h-16 bg-white rounded-full flex items-center justify-center absolute text-red-500 z-10 opacity-0 invisible transition-all group-hover:opacity-100 group-hover:visible",onClick:p,children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]}),!h&&(0,a.jsx)("div",{className:"absolute w-0 h-1 bg-green-400 bottom-0 left-0 transition-all image-upload-progress",style:{width:"".concat(Math.ceil(d),"%")}})]})}},9248:function(e,n,r){var t,i=r(1413),o=r(4925),a=r(168),s=(r(2791),r(6444)),l=r(1134),c=r(184),d=["name","type","children","hasIcon","control"],u=s.ZP.div(t||(t=(0,a.Z)(["\n  position: relative;\n  width: 100%;\n  input {\n    width: 100%;\n    padding: ",";\n    background-color: ",";\n    border-radius: 8px;\n    ::placeholder {\n      color: #84878b;\n    }\n    font-weight: 500;\n    transition: all 0.2s linear;\n    border: 1px solid transparent;\n  }\n  input:focus {\n    background-color: white;\n    border-color: ",";\n  }\n  .icon-eye {\n    position: absolute;\n    right: 20px;\n    top: 50%;\n    transform: translateY(-50%);\n    cursor: pointer;\n  }\n"])),(function(e){return e.hasIcon?"20px 60px 20px 20px":"20px"}),(function(e){return e.theme.grayLight}),(function(e){return e.theme.primary}));n.Z=function(e){var n=e.name,r=void 0===n?"":n,t=e.type,a=void 0===t?"text":t,s=e.children,h=(e.hasIcon,e.control),m=(0,o.Z)(e,d),p=(0,l.bc)({control:h,name:r,defaultValue:""}).field;return(0,c.jsxs)(u,{hasIcon:!!s,children:[(0,c.jsx)("input",(0,i.Z)((0,i.Z)({id:r,type:a},p),m)),s?(0,c.jsx)("span",{className:"icon-eye",children:s}):null]})}},3117:function(e,n,r){r.d(n,{I:function(){return t.Z}});var t=r(9248)},6848:function(e,n,r){r.d(n,{_:function(){return h},O:function(){return p}});var t,i,o=r(1413),a=r(4925),s=r(168),l=(r(2791),r(6444)),c=r(184),d=["htmlFor","children"],u=l.ZP.label(t||(t=(0,s.Z)(["\n  color: ",";\n  font-weight: 600;\n  cursor: pointer;\n"])),(function(e){return e.theme.grayDark})),h=function(e){var n=e.htmlFor,r=void 0===n?"":n,t=e.children,i=(0,a.Z)(e,d);return(0,c.jsx)(u,(0,o.Z)((0,o.Z)({htmlFor:r},i),{},{children:t}))},m=l.ZP.span(i||(i=(0,s.Z)(["\n  display: inline-block;\n  padding: 10px 15px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n"]))),p=function(e){var n=e.children,r=e.type,t="text-gray-500 bg-gray-100";switch(void 0===r?"default":r){case"success":t="text-green-500 bg-green-100";break;case"warning":t="text-orange-500 bg-orange-100";break;case"danger":t="text-red-500 bg-red-100"}return(0,c.jsx)(m,{className:t,children:n})}},9126:function(e,n,r){r.r(n);var t,i=r(1413),o=r(4925),a=r(168),s=(r(2791),r(6444)),l=r(1134),c=r(184),d=["name","type","children","control"],u=s.ZP.div(t||(t=(0,a.Z)(["\n  position: relative;\n  width: 100%;\n  textarea {\n    width: 100%;\n    padding: 16px 20px;\n    background-color: transparent;\n    border: 1px solid ",";\n    border-radius: 8px;\n    transition: all 0.2s linear;\n    color: ",";\n    font-size: 14px;\n    resize: none;\n    min-height: 200px;\n  }\n  textarea::-webkit-input-placeholder {\n    color: #b2b3bd;\n  }\n  textarea::-moz-input-placeholder {\n    color: #b2b3bd;\n  }\n"])),(function(e){return e.theme.grayf1}),(function(e){return e.theme.black}));n.default=function(e){var n=e.name,r=void 0===n?"":n,t=e.type,a=void 0===t?"text":t,s=(e.children,e.control),h=(0,o.Z)(e,d),m=(0,l.bc)({control:s,name:r,defaultValue:""}).field;return(0,c.jsx)(u,{children:(0,c.jsx)("textarea",(0,i.Z)((0,i.Z)({id:r,type:a},m),h))})}},921:function(e,n,r){r.d(n,{Z:function(){return a}});var t=r(9439),i=r(4453),o=r(2791);function a(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=(0,o.useState)(0),l=(0,t.Z)(s,2),c=l[0],d=l[1],u=(0,o.useState)(""),h=(0,t.Z)(u,2),m=h[0],p=h[1],f=function(e){var n=(0,i.cF)(),r=(0,i.iH)(n,"images/"+e.name),t=(0,i.B0)(r,e);t.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;switch(d(n),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break;default:console.log("Nothing at all")}}),(function(e){console.log("Error")}),(function(){(0,i.Jt)(t.snapshot.ref).then((function(e){p(e)}))}))},x=function(n){var r=n.target.files[0];r&&(e("image_name",r.name),f(r))},g=function(){var e=(0,i.cF)(),t=(0,i.iH)(e,"images/"+(r||n("image_name")));(0,i.oq)(t).then((function(){console.log("Remove image successfully"),p(""),d(0),a&&a()})).catch((function(e){console.log("Can not delete image")}))},b=function(){p(""),d(0)};return{image:m,setImage:p,handleResetImage:b,progress:c,handleSelectImage:x,handleDeleteImage:g}}},3030:function(e,n,r){r(2791);var t=r(184);n.Z=function(e){var n=e.title,r=void 0===n?"":n,i=e.desc,o=void 0===i?"":i,a=e.children;return(0,t.jsxs)("div",{className:"mb-10 flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"dashboard-heading",children:r}),(0,t.jsx)("p",{className:"dashboard-short-desc",children:o})]}),a]})}},3322:function(e,n,r){r.r(n),r.d(n,{default:function(){return k}});var t=r(1413),i=r(4165),o=r(5861),a=r(9439),s=r(2791),l=r(3030),c=r(1134),d=r(3031),u=r(6779),h=r(6848),m=r(3117),p=r(5456),f=r(3585),x=r(4167),g=r(921),b=r(3504),v=r(9062),j=r(1199),y=(r(5854),r(9085)),Z=r(9126).default,w=r(184),k=function(){var e=(0,c.cI)({mode:"onChange",defaultValues:{fullname:"",email:"",password:"",username:"",avatar:"",status:f.iQ.ACTIVE,role:f.xZ.USER,createdAt:new Date}}),n=e.handleSubmit,r=e.control,k=e.setValue,N=e.getValues,I=e.watch,z=e.reset,S=e.formState,C=S.isSubmitting,E=S.isValid,D=I("status"),U=I("role"),A=N("avatar"),L=/%2F(\S+)\?/gm.exec(A),_=(null===L||void 0===L?void 0:L.length)>0?L[1]:"",P=(0,g.Z)(k,N,_,(function(){return T.apply(this,arguments)})),Y=P.image,V=P.setImage,F=(P.handleResetImage,P.progress),M=P.handleSelectImage,Q=P.handleDeleteImage,R=(0,b.lr)(),B=(0,a.Z)(R,1)[0].get("id");(0,s.useEffect)((function(){V(A)}),[A,V]),(0,s.useEffect)((function(){function e(){return(e=(0,o.Z)((0,i.Z)().mark((function e(){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B){e.next=2;break}return e.abrupt("return",null);case 2:return n=(0,v.JU)(j.db,"users",B),e.next=5,(0,v.QT)(n);case 5:r=e.sent,console.log("docData: ",r.data()),z(r&&r.data());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[z,B]);var O=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,E){e.next=3;break}return e.abrupt("return");case 3:return r=(0,v.JU)(j.db,"users",B),e.next=6,(0,v.r7)(r,(0,t.Z)((0,t.Z)({},n),{},{avatar:Y}));case 6:y.Am.success("Update user information successfully!"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error: ",e.t0),y.Am.success("Update user failed!");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}();function T(){return(T=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,v.JU)(j.db,"users",B),e.next=3,(0,v.r7)(n,{avatar:""});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,w.jsxs)("div",{children:[(0,w.jsx)(l.Z,{title:"Update user",desc:"Add new user to system"}),(0,w.jsxs)("form",{onSubmit:n(O),children:[(0,w.jsx)("div",{className:"w-[200px] h-[200px] mx-auto rounded-full mb-10",children:(0,w.jsx)(d.Z,{className:"!rounded-full h-full",onChange:M,progress:F,image:Y,handleDeleteImage:Q})}),(0,w.jsxs)("div",{className:"form-layout",children:[(0,w.jsxs)(u.g,{children:[(0,w.jsx)(h._,{children:"Fullname"}),(0,w.jsx)(m.I,{name:"fullName",placeholder:"Enter your fullname",control:r})]}),(0,w.jsxs)(u.g,{children:[(0,w.jsx)(h._,{children:"Username"}),(0,w.jsx)(m.I,{name:"userName",placeholder:"Enter your username",control:r})]})]}),(0,w.jsxs)("div",{className:"form-layout",children:[(0,w.jsxs)(u.g,{children:[(0,w.jsx)(h._,{children:"Email"}),(0,w.jsx)(m.I,{name:"email",placeholder:"Enter your email",control:r,type:"email"})]}),(0,w.jsxs)(u.g,{children:[(0,w.jsx)(h._,{children:"Password"}),(0,w.jsx)(m.I,{name:"password",placeholder:"Enter your password",control:r,type:"password"})]})]}),(0,w.jsxs)("div",{className:"form-layout",children:[(0,w.jsxs)(u.g,{children:[(0,w.jsx)(h._,{children:"Status"}),(0,w.jsxs)(u.Y,{children:[(0,w.jsx)(p.Y,{name:"status",control:r,value:f.iQ.ACTIVE,checked:Number(D)===f.iQ.ACTIVE,children:"Active"}),(0,w.jsx)(p.Y,{name:"status",control:r,value:f.iQ.PENDING,checked:Number(D)===f.iQ.PENDING,children:"Pending"}),(0,w.jsx)(p.Y,{name:"status",control:r,value:f.iQ.BAN,checked:Number(D)===f.iQ.BAN,children:"Banned"})]})]}),(0,w.jsxs)(u.g,{children:[(0,w.jsx)(h._,{children:"Role"}),(0,w.jsxs)(u.Y,{children:[(0,w.jsx)(p.Y,{name:"role",control:r,value:f.xZ.ADMIN,checked:Number(U)===f.xZ.ADMIN,children:"Admin"}),(0,w.jsx)(p.Y,{name:"role",control:r,value:f.xZ.MOD,checked:Number(U)===f.xZ.MOD,children:"Moderator"}),(0,w.jsx)(p.Y,{name:"role",control:r,value:f.xZ.USER,checked:Number(U)===f.xZ.USER,children:"User"})]})]})]}),(0,w.jsx)("div",{className:"form-layout",children:(0,w.jsxs)(u.g,{children:[(0,w.jsx)(h._,{children:"Description"}),(0,w.jsx)(Z,{name:"description",control:r})]})}),(0,w.jsx)(x.z,{kind:"primary",className:"mx-auto w-[200px]",disabled:C,isLoading:C,type:"submit",children:"Update"})]})]})}}}]);
//# sourceMappingURL=322.83638ef8.chunk.js.map